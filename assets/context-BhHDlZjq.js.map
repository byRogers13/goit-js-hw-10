{"version":3,"file":"context-BhHDlZjq.js","sources":["../../src/js/context.js"],"sourcesContent":["import iziToast from 'izitoast';\n\niziToast.settings({\n  timeout: 2000,\n  theme: 'dark',\n  position: 'topRight',\n  resetOnHover: true,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n});\n\nconst toastMessage = message => iziToast.show({ message: [message] });\n\n// Timer\n\nexport const timer = {\n  intervalID: null,\n  userDate: null,\n  elements: {\n    days: document.querySelector('[data-days]'),\n    hours: document.querySelector('[data-hours]'),\n    minutes: document.querySelector('[data-minutes]'),\n    seconds: document.querySelector('[data-seconds]'),\n    button: document.querySelector('[data-start]'),\n    input: document.querySelector('#datetime-picker'),\n  },\n  isFutureDate() {\n    if (this.userDate - Date.now() > 0) return true;\n    toastMessage('Please choose a date in the future!');\n    this.disableInterface(false);\n    return false;\n  },\n  setTimer() {\n    if (!this.isFutureDate()) return;\n    this.startCountDown();\n    this.disableInterface();\n  },\n  startCountDown() {\n    this.intervalID = setInterval(() => {\n      const left = this.userDate - Date.now();\n\n      if (left <= 0) {\n        this.stopTimer();\n        return;\n      }\n\n      const time = this.convertMs(left);\n\n      this.elements.days.textContent = this.pad(time.days);\n      this.elements.hours.textContent = this.pad(time.hours);\n      this.elements.minutes.textContent = this.pad(time.minutes);\n      this.elements.seconds.textContent = this.pad(time.seconds);\n    }, 1000);\n  },\n  stopTimer() {\n    clearInterval(this.intervalID);\n    this.enableInterface();\n  },\n  convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n  },\n  pad(value) {\n    return String(value).padStart(2, '0');\n  },\n  disableInterface(all = true) {\n    if (all) this.elements.input.setAttribute('disabled', '');\n    this.elements.button.setAttribute('disabled', '');\n  },\n  enableInterface(all = false) {\n    if (all) this.elements.button.removeAttribute('disabled');\n    this.elements.input.removeAttribute('disabled');\n  },\n};\n\nexport const options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    timer.userDate = selectedDates[0];\n    if (timer.isFutureDate()) timer.enableInterface(true);\n  },\n};\n\n// Snackbar\n\nexport const elements = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('[name=\"delay\"]'),\n  fulfilled: document.querySelector('[value=\"fulfilled\"]'),\n};\n\nexport const state = {\n  input: null,\n  fulfilled: null,\n  init() {\n    this.input = elements.input.value;\n    this.fulfilled = elements.fulfilled.checked;\n  },\n  isValid() {\n    this.init();\n\n    if (this.input < 0) {\n      toastMessage('Time must be a positive number!');\n      return false;\n    }\n\n    return true;\n  },\n};\n\nexport const settings = {\n  createPromise() {\n    const ms = state.input;\n    const status = Boolean(state.fulfilled);\n\n    const promise = new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (status) {\n          resolve(ms);\n        } else {\n          reject(ms);\n        }\n      }, ms);\n    });\n    return promise;\n  },\n  showMessage(p) {\n    p.then(result =>\n      toastMessage(`✅ Fulfilled promise in ${result} ms`)\n    ).catch(error => toastMessage(`❌ Rejected promise in ${error} ms`));\n  },\n};"],"names":["iziToast","toastMessage","message","timer","left","time","ms","days","hours","minutes","seconds","value","all","options","selectedDates","elements","state","settings","status","resolve","reject","p","result","error"],"mappings":"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"}